<!DOCTYPE html>
<html>
  <head>
    <script src="analytics.js"></script>
    <script src="jquery.js"></script>

    <script src="preload.js"></script>
    <script src="common.js"></script>

    <meta charset="UTF-8" />
    <title>VNAS Toolbox</title>

    <link rel="stylesheet" href="app.fixed.min.css" />

    <script>
      $(() => {
        setTimeout(() => {
          $("#welcomeFrame").fadeOut(750, () => {
            $("#welcomeFrame").detach();
          });
        }, 2250);
      });
    </script>
  </head>

  <body>
    <section id="welcomeFrame">
      <h1>Welcome to</h1>
      <svg viewBox="0 0 415 71">
        <!-- <path id="box" fill="#d81939" d="M309.6 0h90v55.3h-90z"/> -->
        <g id="main-text" fill="#fff">
          <path
            d="M0 12.8h7.2l5 16 4.9-16h7L15.9 35H8.4L0 12.8zm26.6 0h6.2V17h-6.2v-4.2zm0 6.1h6.2V35h-6.2V18.9zm10.2 0h5.8v2.6q.8-1.7 1.7-2.4.9-.7 2.2-.7 1.4 0 3 .8l-1.9 4.4q-1.1-.5-1.7-.5-1.2 0-1.9 1-1 1.4-1 5.3v5.4h-6.2V18.7zm22.7-6.1v6.1h3.4v4.5h-3.4v5.7q0 1 .2 1.4.3.5 1.1.5.7 0 1.9-.4l.5 4.3q-2.3.5-4.3.5-2.3 0-3.4-.6T53.9 33q-.5-1.2-.5-3.9v-5.7h-2.3v-4.5h2.3v-3l6.2-3.2zM82.8 35H77v-2.6q-1.3 1.6-2.6 2.3-1.3.7-3.2.7-2.5 0-4-1.5-1.4-1.5-1.4-4.7V18.9H72v8.9q0 1.5.6 2.2.6.6 1.6.6 1.1 0 1.8-.8t.7-3v-7.7h6.2V35zm9.4-10.9l-5.9-.6q.3-1.5 1-2.4.6-.9 1.8-1.5.8-.5 2.3-.7 1.5-.3 3.2-.3 2.8 0 4.5.3 1.7.3 2.8 1.3.8.7 1.2 1.9.5 1.2.5 2.4v7.1q0 1.1.1 1.8.2.6.6 1.6h-5.8q-.3-.6-.5-.9-.1-.3-.2-1-1.2 1.2-2.4 1.7-1.6.7-3.8.7-2.9 0-4.4-1.3-1.5-1.3-1.5-3.3 0-1.8 1.1-3t4-1.8q3.5-.7 4.5-1 1-.3 2.2-.7 0-1.1-.5-1.6t-1.7-.5q-1.5 0-2.3.5-.6.4-1 1.4zm5.4 3.2q-1.3.5-2.7.8-1.9.5-2.4 1t-.5 1.1q0 .7.5 1.2t1.5.5q1 0 1.9-.5.9-.5 1.3-1.2t.4-1.9v-1zm10-14.6h6.2v22.2h-6.2V12.8zm21 0h6.4l8.4 12.3V12.8h6.5V35h-6.5l-8.3-12.2V35h-6.5V12.8zm24.7 14.2q0-3.7 2.5-6.1 2.5-2.4 6.7-2.4 4.8 0 7.3 2.8 2 2.3 2 5.6 0 3.7-2.5 6.1-2.5 2.4-6.8 2.4-3.9 0-6.3-2-2.9-2.4-2.9-6.4zm6.2 0q0 2.2.9 3.2t2.2 1q1.3 0 2.2-1 .9-1 .9-3.3 0-2.1-.9-3.1t-2.1-1q-1.3 0-2.2 1-.9 1-.9 3.2zm15.4-8.1h5.8v2.6q.8-1.7 1.7-2.4.9-.7 2.2-.7 1.4 0 3 .8l-1.9 4.4q-1.1-.5-1.7-.5-1.2 0-1.9 1-1 1.4-1 5.3v5.4h-6.2V18.6z"
          />
          <path
            d="M186.7 18.9h6l2.6 10.1 3.3-10.1h5.6l3.4 10.1 2.6-10.1h5.9L210.2 35h-5.5l-3.3-9.7-3.2 9.7h-5.5l-6-16.1zm48.6 9.6h-12.4q.2 1.5.8 2.2.9 1 2.3 1 .9 0 1.7-.5.5-.3 1.1-1l6.1.6q-1.4 2.4-3.4 3.5-2 1-5.7 1-3.2 0-5-.9-1.8-.9-3-2.9t-1.2-4.6q0-3.8 2.4-6.1t6.7-2.3q3.5 0 5.5 1t3 3q1 2 1 5.2v.7zm-6.3-3q-.2-1.8-1-2.6t-2-.8q-1.5 0-2.4 1.2-.6.7-.7 2.2h6.1zm21.1-6.6h5.8V34.8q0 1.5-.7 2.9-.6 1.4-1.7 2.2-1.1.8-2.7 1.2-1.6.4-3.8.4-4.9 0-6.7-1.5-1.8-1.5-1.8-3.9v-.8l6 .7q.2.8.7 1.2.7.5 1.7.5 1.3 0 2-.7t.7-2.5v-2.4q-.9 1.1-1.8 1.6-1.4.8-3.1.8-3.2 0-5.2-2.8-1.4-2-1.4-5.3 0-3.8 1.8-5.7 1.8-2 4.8-2 1.9 0 3.1.6 1.2.6 2.3 2.1V19zm-5.8 7.8q0 1.7.7 2.6.7.8 2 .8 1.2 0 1.9-.9.8-.9.8-2.6 0-1.8-.8-2.7-.8-.9-2-.9t-1.9.9q-.7.8-.7 2.8zm15.6-13.9h6.2V17h-6.2v-4.2zm0 6.1h6.2V35h-6.2V18.9zm15.8 5.2l-5.9-.6q.3-1.5 1-2.4.6-.9 1.8-1.5.8-.5 2.3-.7 1.5-.3 3.2-.3 2.8 0 4.5.3 1.7.3 2.8 1.3.8.7 1.2 1.9.5 1.2.5 2.4v7.1q0 1.1.1 1.8.2.6.6 1.6H282q-.3-.6-.5-.9-.1-.3-.2-1-1.2 1.2-2.4 1.7-1.6.7-3.8.7-2.9 0-4.4-1.3-1.5-1.3-1.5-3.3 0-1.8 1.1-3t4-1.8q3.5-.7 4.5-1 1-.3 2.2-.7 0-1.1-.5-1.6t-1.7-.5q-1.5 0-2.3.5-.6.4-1 1.4zm5.4 3.2q-1.3.5-2.7.8-1.9.5-2.4 1t-.5 1.1q0 .7.5 1.2t1.5.5q1 0 1.9-.5.9-.5 1.3-1.2t.4-1.9v-1zm9.8-8.5h5.7v2.6q1.3-1.6 2.6-2.3 1.3-.7 3.2-.7 2.6 0 4 1.5 1.5 1.5 1.5 4.7v10.2h-6.2v-8.6q0-1.5-.6-2.1-.6-.6-1.6-.6-1.1 0-1.8.8t-.7 3V35h-6.2V18.9z"
          />
          <path
            fill="#fff"
            d="M311.6 28.8h6.6V35h-6.6v-6.2zm10.4-9.9h5.7v2.6q1.3-1.6 2.6-2.3 1.3-.7 3.2-.7 2.6 0 4 1.5 1.5 1.5 1.5 4.7v10.2h-6.2v-8.7q0-1.5-.6-2.1-.6-.6-1.6-.6-1.1 0-1.8.8t-.7 3V35h-6.2V18.9zm38.6 9.6h-12.4q.2 1.5.8 2.2.9 1 2.3 1 .9 0 1.7-.5.5-.3 1.1-1l6.1.6q-1.4 2.4-3.4 3.5-2 1-5.7 1-3.2 0-5-.9-1.8-.9-3-2.9t-1.2-4.6q0-3.8 2.4-6.1t6.7-2.3q3.5 0 5.5 1t3 3q1 2 1 5.2v.7zm-6.3-3q-.2-1.8-1-2.6t-2-.8q-1.5 0-2.4 1.2-.6.7-.7 2.2h6.1zm16.6-12.8v6.1h3.4v4.5h-3.4V29q0 1 .2 1.4.3.5 1.1.5.7 0 1.9-.4l.5 4.3q-2.3.5-4.3.5-2.3 0-3.4-.6t-1.6-1.8q-.5-1.2-.5-3.9v-5.7h-2.3v-4.5h2.3v-3l6.2-3.2z"
          />
        </g>
        <g id="plane-stuff" style="transform:translateY(2px)">
          <path
            id="plane-trail"
            fill="#002a3a"
            d="M375.4 47.1c-31 14.9-61.4 24.1-76.1 21.3-12.9-2.5-6.5-19.1 11.9-32.7h3.9c-14.5 11.5-15.6 25.7-6.4 26.9 10.4 1.2 37.3-4.2 64.7-16.1l1.9.7z"
          />
          <g id="plane">
            <path
              id="airplane-body"
              fill="#002a3a"
              d="M408.6 26.6c.9.1.8.2 1.5.3.8.2 1.3.4 1.8.8.2.2.3.3.4.5.2.7-.1 1.2-.5 1.7-1.2 1.6-2.9 2.8-4.5 3.9-1.8 1.3-3.5 2.3-5.3 3.5-.4.2-.7.5-1.1.7.4.2.5.2.9.3 0 0 .2.2.4.2.5-.2.9-.5 1.4-.7.5-.3.9-.3 1.4-.2.4.2.9.7 1.1 1 .2.7.2 1.2-.2 1.8 2.3 1 4.4 2 6.5 3 .5.3 1.1.5 1.6.8.2.3-.2.7-.5.8-.9.3-1.6 1-2.5 1-.9-.2-1.8-.3-2.8-.7-1.4-.3-2.8-.7-4.2-.8-1.1-.2-2.3-.3-3.4-.7-.9-.2-1.6-.3-2.5-.3-1.1-.2-2.1-.2-3.4-.2-1.4 0-2.7 0-4.1-.2-2.1.8-4.1 1.8-6.5 2.7-1.6.5-3 1-4.6 1.5.5.7 1.2.8 1.6 1.7 0 .2-.2.2-.2.2-.4.2-.5.2-.9.3-1.6-.3-3-.7-4.6-1.2h-.4c-.7.2-1.8.8-2.5 0 0-.2-.2-.3-.2-.7 0-.2-.2-.2-.4-.3-.4-.2-.5-.2-.7-.3-.5-.2-.9-.3-1.4-.5-1.1-.3-1.9-.5-2.8-1-.2-.2-.4-.3 0-.7.5-.3 1.4-.7 2.1-.3.7 0 1.6.2 2.1.2-.9-.8-1.6-1.7-2.5-2.5-.2-.2-.4-.3-.4-.7 0-.2.2-.3.4-.5s.4-.2.5-.2c.7-.3.9-.5 1.4-.3 1.6.7 2.8 1.2 4.6 1.8.4.2.7.3 1.1.3.5-.2.7-.3 1.1-.5.2 0 .7-.3.9-.5.5-.3 1.1-.7 1.4-.8 1.1-.7 1.6-1 2.5-1.5-1.2-.5-2.7-1.2-3.9-1.7-1.4-.3-1.8-.5-3-.8-.9-.2-1.9-.5-1.9-.5-1.8-.3-2.1-.5-3.7-.8-.7-.3-1.6-.3-2.5-.7v-.3c.2-.3.7-.7 1.1-1 .5-.3.9-.7 1.6-.8 1.2 0 2.1.2 3.5.3 1.6.2 3.2.3 4.6.5 1.9.2 4.2.5 6.2.7.5.1.7.1 1.1.1h.5c.9-.7 1.9-1.5 3.2-1.8.7 0 1.4.3 1.8.8 2.3-1.5 4.4-3 6.9-4.2 2.3-1.2 4.4-2 6.2-2.5 2-.6 3-.4 3.6-.4"
            />
            <path
              id="airline-highlight"
              fill="#fff"
              d="M406.8 28.4c-1.1.3-2.7 1-4.1 1.7-1.9.8-3.5 1.8-5.7 3-.7.5-2.3 1.7-2.5 1.8-1.2-.2-2.3-.2-3.5-.3l.2-.2c1.6-1.2 3-2 4.6-2.9 1.4-.8 3.7-2.1 5.4-2.7 1.6-.7 3.1-1.3 4.8-1.5 1.2 0 1.8 0 2.8.3m-22.9 7.6c.4-.2.5-.3.9-.5s.5-.3.7-.3c-.2.5-.2.7 0 1.2 0 .3.4.5.4.7-.7.5-1.4.8-2.1 1.3-.2-.2-.4-.3-.4-.7-.2-.5 0-.8.2-1.3l.4-.3zm-1.2 5.5c-.9.5-1.8 1-2.7 1.3-1.8.8-3.7 1.8-6.4 3-.7.3-1.4.5-2.1.3-.5 0-.5 0-1.1-.2-.9-.8-1.9-1.8-2.8-2.7-.2-.2-.4-.3-.4-.5l.5-.3h.2c1.4.5 2.3 1 3.7 1.7.5.2 1.1.5 1.6.7.5 0 1.1-.2 1.6-.3l.4-.2c.7-.5 1.1-.7 1.4-.8 1.4-.8 2.7-1.5 4.1-2.3l.4-.2c.5.2.9.3 1.6.5"
            />
          </g>
        </g>
      </svg>
    </section>
    <nav>
      <ul>
        <li id="FlightSetupSectionButton" active>
          <span class="tab-text">Flight Setup</span>
          <i class="iicon ii-airport iir tab-icon"></i>
        </li>
        <li id="FlightInfoSectionButton">
          <span class="tab-text">Live Info</span>
          <i class="iicon ii-radar iir tab-icon"></i>
        </li>
        <li id="ChartsSectionButton">
          <span class="tab-text">Charts</span>
          <i class="iicon ii-map iis tab-icon"></i>
        </li>
        <li id="WeatherSectionButton">
          <span class="tab-text">METAR</span>
          <i class="iicon ii-cloud-sun iis tab-icon"></i>
        </li>
        <li id="SettingsSectionButton">
          <span class="tab-text">Settings</span>
          <i class="iicon ii-cog iis tab-icon"></i>
        </li>
      </ul>
    </nav>
    <main>
      <section id="FlightSetup">
        <h1>Greetings, traveller!</h1>

        <div id="FlightDetails">
          <div style="grid-area: top-left">
            <label for="FromIcaoTextbox">Fly from</label>
            <div style="position:relative;width: 100%;">
              <input
                id="FromIcaoTextbox"
                type="text"
                placeholder="EGKK"
                tabindex="0"
                maxlength="4"
                class="uppercase icaoAutocompleteInput"
                oninput='IcaoEntryHints(this, "depIcaoHint")'
              />
              <div
                id="fromAutocomplete"
                class="icaoAutocompleteContainer autocomplete"
              ></div>
            </div>
            <p class="icaoHint" id="depIcaoHint"></p>
          </div>
          <div style="grid-area: top-right; position: relative;">
            <label for="ToIcaoTextbox">Fly to</label>
            <div>
              <input
                id="ToIcaoTextbox"
                type="text"
                placeholder="EKCH"
                tabindex="0"
                maxlength="4"
                class="uppercase icaoAutocompleteInput"
                oninput='IcaoEntryHints(this, "arrIcaoHint")'
              />
              <div
                id="toAutocomplete"
                class="icaoAutocompleteContainer autocomplete"
              ></div>
            </div>
            <p class="icaoHint" id="arrIcaoHint"></p>
          </div>
          <div style="grid-area: middle-left; position: relative;">
            <label for="CruiseLevelBox">Cruise Flight Level</label>

            <input
              id="CruiseLevelBox"
              type="number"
              placeholder="370"
              tabindex="0"
              max="600"
              min="10"
              step="5"
              class="uppercase"
            />
          </div>
          <div style="grid-area: middle-right">
            <label for="AircraftSelect">Aircraft Type</label>

            <select
              id="AircraftSelect"
              type="text"
              placeholder="370"
              tabindex="0"
              maxlength="3"
              style="width: calc(100% - 6px)"
            >
              <optgroup label="Short Haul">
                <option value="B738" selected>Boeing 737-800</option>
              </optgroup>
              <optgroup label="Mixed Haul">
                <option value="B38M">Boeing 737 MAX 8</option>
              </optgroup>
              <optgroup label="Long Haul">
                <option value="B788">Boeing 787-800</option>
                <option value="B789">Boeing 787-900</option>
              </optgroup>
              <optgroup label="Historic">
                <option value="B734">Boeing 737-400</option>
                <option value="B734">Boeing 737-300</option>
                <option value="F50">Fokker 50</option>
                <option value="MD80">McDonnell Douglas MD80</option>
              </optgroup>
              <optgroup label="Leased">
                <option value="A320">Airbus A320-200</option>
                <option value="A321">Airbus A321-200</option>
                <option value="A333">Airbus A330-300</option>
                <option value="A342">Airbus A340-200</option>
                <option value="B737">Boeing 737-700</option>
                <option value="B763">Boeing 767-300</option>
                <option value="B772">Boeing 777-200</option>
              </optgroup>
            </select>
          </div>
          <div style="grid-area: button-left">
            <button disabled id="SetupFlightInfoViaVatsimButton" tabindex="1">
              Setup via VATSIM
            </button>
          </div>
          <div
            style="grid-area: button-right; position: relative; width: 100%;"
          >
            <button
              id="InitialiseDiscordRPCButton"
              tabindex="0"
              class="main"
              style="float: right;"
            >
              Confirm details
            </button>
          </div>
        </div>
        <img src="img/logo-light.svg" class="vnasLogo" />
      </section>
      <section id="LiveInfo" style="display: none"></section>
      <section id="Charts" style="display: none"></section>
      <section id="Weather" style="display: none"></section>
      <section id="Settings" style="display: none"></section>
    </main>

    <script>
      // Add contents of other HTML files
      $("#LiveInfo").load("LiveInfo.html");
      $("#Charts").load("charts.html");
      $("#Weather").load("weather.html");
      $("#Settings").load("settings.html");
    </script>

    <script src="flight-setup.js"></script>

    <script src="icons.js"></script>
    <script src="autocomplete.js"></script>

    <script>
      $FlightSetupNavButton = $("#FlightSetupSectionButton");
      $FlightInfoNavButton = $("#FlightInfoSectionButton");
      $ChartsNavButton = $("#ChartsSectionButton");
      $WeatherNavButton = $("#WeatherSectionButton");
      $SettingsNavButton = $("#SettingsSectionButton");

      $Setup = $("#FlightSetup");
      $Info = $("#LiveInfo");
      $Charts = $("#Charts");
      $Weather = $("#Weather");
      $Settings = $("#Settings");

      $FlightSetupNavButton.click(() => {
        $FlightSetupNavButton.attr("active", "");

        $Info
          .add($Charts)
          .add($Weather)
          .add($Settings)
          .fadeOut(150)
          .promise()
          .done(() => $Setup.fadeIn(100));

        $FlightInfoNavButton
          .add($ChartsNavButton)
          .add($WeatherNavButton)
          .add($SettingsNavButton)
          .removeAttr("active");
      });

      $FlightInfoNavButton.click(() => {
        $FlightInfoNavButton.attr("active", "");

        $Setup
          .add($Charts)
          .add($Weather)
          .add($Settings)
          .fadeOut(150)
          .promise()
          .done(() => $Info.fadeIn(100));

        $FlightSetupNavButton
          .add($ChartsNavButton)
          .add($WeatherNavButton)
          .add($SettingsNavButton)
          .removeAttr("active");
      });

      $ChartsNavButton.click(() => {
        $ChartsNavButton.attr("active", "");

        $Setup
          .add($Info)
          .add($Weather)
          .add($Settings)
          .fadeOut(150)
          .promise()
          .done(() => $Charts.fadeIn(100));

        $FlightInfoNavButton
          .add($FlightSetupNavButton)
          .add($WeatherNavButton)
          .add($SettingsNavButton)
          .removeAttr("active");
      });

      $WeatherNavButton.click(() => {
        $WeatherNavButton.attr("active", "");

        $Setup
          .add($Info)
          .add($Charts)
          .add($Settings)
          .fadeOut(150)
          .promise()
          .done(() => $Weather.fadeIn(100));

        $FlightSetupNavButton
          .add($ChartsNavButton)
          .add($FlightInfoNavButton)
          .add($SettingsNavButton)
          .removeAttr("active");
      });

      $SettingsNavButton.click(() => {
        $SettingsNavButton.attr("active", "");

        $Setup
          .add($Info)
          .add($Charts)
          .add($Weather)
          .fadeOut(150)
          .promise()
          .done(() => $Settings.fadeIn(100));

        $FlightSetupNavButton
          .add($ChartsNavButton)
          .add($FlightInfoNavButton)
          .add($WeatherNavButton)
          .removeAttr("active");
      });
    </script>
  </body>
</html>
